/* 全局样式 */
body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
    background-color: #f4f7f9;
}

/* 主容器 */
.main-container {
    display: flex;
    height: 100vh;
    width: 100vw;
}

/* 左侧面板 */
.left-panel {
    flex: 0 0 50%;
    max-width: 50%;
    padding: 20px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    background-color: #ffffff;
    border-right: 1px solid #dce1e6;
}

.input-area { flex-grow: 1; display: flex; flex-direction: column; min-height: 0; }
.input-area textarea { width: 100%; flex-basis: 50%; margin-bottom: 15px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; resize: vertical; box-sizing: border-box; }
.settings-panel { border-top: 2px dashed #dce1e6; padding-top: 15px; flex-shrink: 0; }
.settings-panel h3 { margin: 0 0 15px 0; text-align: center; color: #1a73e8; }

.setting-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px 12px; margin-bottom: 15px; }
.setting-item { display: flex; flex-direction: column; }
.setting-item label { font-size: 12px; color: #555; margin-bottom: 4px; }
.setting-item input, .setting-item select { width: 100%; padding: 6px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 12px; }

#generate-preview-btn, #print-btn { width: 100%; padding: 10px; font-size: 15px; font-weight: bold; color: white; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.3s; margin-top: 8px; }
#generate-preview-btn { background-color: #1a73e8; }
#generate-preview-btn:hover { background-color: #155ab6; }
.print-button { background-color: #1e8e3e; }
.print-button:hover { background-color: #176c2e; }

/* 右侧面板 */
.right-panel { flex: 0 0 50%; max-width: 50%; padding: 20px; box-sizing: border-box; display: flex; justify-content: center; align-items: flex-start; overflow-y: auto; background-color: #e9edf0; }
#page-container { background: white; width: 210mm; min-height: 297mm; box-shadow: 0 0 10px rgba(0,0,0,0.1); box-sizing: border-box; padding: 20mm 25mm; }

/* 核心内容样式 (已修改) */
.eng-line, .chn-line {
    overflow-wrap: break-word;
    page-break-inside: avoid; /* 打印时避免行内分页 */
}
.eng-line {
    color: #333;
    margin-bottom: -0.2em;
}
.chn-line {
    color: #000;
}
.paragraph-spacer {
    height: 1em; /* 用于分隔由 \n 创建的段落 */
}

/* 打印样式 */
@media print {
    body > .main-container > .left-panel { display: none; }
    body, .main-container, .right-panel { display: block; width: 100%; height: auto; padding: 0; margin: 0; overflow: visible; background: transparent; }
    #page-container { width: 100%; min-height: auto; margin: 0; padding: 0; box-shadow: none; border: none; }
    .paragraph-spacer {
        height: 1em; /* 确保打印时也有段落间距 */
    }
}